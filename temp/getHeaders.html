<!DOCTYPE>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>產生大綱</title>

	<!-- load semantic ui -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" />
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

</head>
<body>
	<div class="ui menu">
		<a href="" class="item">item</a>
		<a href="" class="item">item</a>
		<a href="" class="item">item</a>
		<a href="" class="item">item</a>
		<a href="" class="item">item</a>
	</div>

	<div class="ui grid container">
		<div class="ten wide column">
			<div id="content">
				<h2>離線環境下，安裝ArcGIS API for Javascript</h2><h3>摘要</h3><p>當伺服器沒有連接外部網路時，會無法使用ArcGIS Javascript預覽程式瀏覽網路服務。因為該項功能預設是使用線上的程式庫，如果電腦無法連接外部網路，預覽程式就無法下載程式庫來使用。</p><p>解決方式是將ArcGIS Javascript程式庫安裝佈署在自己的機器上，並設定預覽程式使用本地端的程式庫，如此ArcGIS Javascript預覽程式便能在離線環境下正常運作。</p><p><br></p><h2>安裝流程</h2><p>要將ArcGIS API for Javascript程式庫安裝佈署在本地端，會需要完成以下幾件事項：</p><ol><li>下載ArcGIS API for Javascript程式庫</li><li>修改程式庫內部設定(init.js與dojo.js)</li><li>將程式庫架設在Web Sever上</li><li>設定預覽程式使用剛剛架設好的程式庫</li></ol><p>以下就一一說明每一項的實作步驟</p><p><br></p><h3>下載ArcGIS API for Javascript程式庫</h3><ol><li>使用<strong>開發者帳號</strong>或<strong>ArcGIS Online訂閱帳號</strong>登入<a href="https://developers.arcgis.com/" target="_blank" style="color: rgb(155, 89, 182);">ArcGIS開發者網站</a></li><li>在儀錶板中，點選Download APIs, SDKs &amp; data按鈕</li><li>Product選擇ArcGIS API for Javascript，版本選擇3.X版，本文使用3.23版</li><li>點選API按鈕下載程式庫壓縮檔</li><li>解壓縮程式庫</li></ol><h3>修改程式庫內部設定(init.js與dojo.js)</h3><h3>將程式庫架設在Web Sever上</h3><p>如果您使用Windows作業系統，請可以依照以下步驟完成程式庫架設。如果不是，則請參閱您要使用的Web Server軟體進行架設。</p><h3>設定預覽程式使用剛剛架設好的程式庫</h3><p><br></p><p><br></p>
			</div>
		</div>

		<div class="six wide column">
			<div id="abstract" class="ui vertical right  fluid menu"></div>
		</div>
	</div>

	<script>
		console.log($('#content').children());
		
		$('#content').children().each(function (){
			if (isHeader(this)){
				var text = this.innerText;
				$(this).attr('id', text);

				insertItem(this);
			}
		});


		function isHeader(element) {
			if (
				element.tagName === "H1" ||
				element.tagName === "H2" ||
				element.tagName === "H3" ||
				element.tagName === "H4" ||
				element.tagName === "H5" ||
				element.tagName === "H6"
			)
				return true;
			else
				return false;
		}

		function insertItem (element) {
			var result = "";
			var repeatNum = 0;
			
			if (element.tagName === "H2") 
				repeatNum = 1;
			
			if (element.tagName === "H3") 
				repeatNum = 2;
			
			if (element.tagName === "H4") 
				repeatNum = 3;
			
			if (element.tagName === "H5") 
				repeatNum = 4;
			
			if (element.tagName === "H6")
				repeatNum = 5; 

			result = "<a class='item' href='#" + element.innerText + "'>" +
					  "&nbsp;".repeat(repeatNum*8) + element.innerText + "</a>";	 
			
			$("#abstract").append(result);
		}

	</script>
</body>
</html>